sourceSets {

    modImpl {
        compileClasspath += main.compileClasspath
        java.srcDir("src/modImplShared/java")
    }

}

modloader {
    importMetadata findProject(":forge")
    mainModSource = sourceSets.modImpl
}

configurations {
    modRunImplementation.extendsFrom implementation
}

[jar, devJar].each { j ->
    j.manifest {
        attributes(["FMLModType": "LANGPROVIDER"])
    }
}

tasks.register("modImplJar", Jar) {
    archiveBaseName = "ElecLoaderMod"
    from sourceSets.modImpl.output
    manifest.attributes(["FMLModType": "MOD", "MixinConnector": "nl.elec332.minecraft.loader.impl.fmod.ForgeLikeMixinConnector"])
}
